<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NABI SYSTEM — Key ile Giriş</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#071124; --bg2:#000814; --card:rgba(255,255,255,0.03);
      --accent1:#7c3aed; --accent2:#06b6d4; --muted:#99b4c6;
      --glass-border: rgba(0,255,230,0.14);
      --glass-glow: rgba(0,255,230,0.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{font-family:Inter,system-ui,Arial; margin:0; min-height:100vh; background:linear-gradient(180deg,var(--bg1),var(--bg2)); color:#e6eef8; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; overflow:hidden;}

    /* Vanta / animasyon container - arka planda tam ekran */
    #vantabg{
      position:fixed;
      inset:0;
      z-index:0;
      background: linear-gradient(120deg, rgba(2,6,23,0.45), rgba(0,0,0,0.6));
    }

    /* içerik */
    .wrap{position:relative; z-index:5; display:grid; grid-template-columns:1fr 460px; gap:40px; align-items:center; min-height:100vh; padding:40px}

    /* left - marketing / art */
    .hero{padding:48px 40px; color: #d9eef8}
    .logo{display:flex;align-items:center;gap:12px}
    .logo .dot{width:42px;height:42px;border-radius:10px;background:linear-gradient(135deg,var(--accent2),var(--accent1));box-shadow:0 8px 30px rgba(124,58,237,.18)}
    h1{font-size:36px;margin:18px 0 8px}
    p.lead{color:var(--muted);max-width:54ch}

    /* floating card (sol altın) */
    .art-card{margin-top:30px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:18px; border-radius:16px; width:100%; box-shadow:0 8px 40px rgba(2,6,23,.6); border:1px solid rgba(255,255,255,0.02)}
    .art-grid{display:flex; gap:12px;}
    .art-item{flex:1; height:110px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); display:flex; align-items:center; justify-content:center; font-weight:700; color:var(--muted)}

    /* right - glassy login card (cam efekti) */
    .card{
      position:relative;
      width:100%;
      max-width:420px;
      margin:auto;
      padding:28px;
      border-radius:16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 20px 60px rgba(2,6,23,0.75), 0 0 40px rgba(6,182,212,0.03);
      border: 1px solid rgba(255,255,255,0.04);
      backdrop-filter: blur(8px) saturate(120%);
      -webkit-backdrop-filter: blur(8px) saturate(120%);
      color: #e6eef8;
      overflow: visible;
    }

    /* neon frame edge */
    .card::before{
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 16px;
      padding: 1px;
      background: linear-gradient(90deg, rgba(6,182,212,0.12), rgba(124,58,237,0.12));
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
      filter: blur(8px);
      z-index: -1;
    }

    /* smaller neon accent (inner glow) */
    .neon-glow{
      position:absolute;
      top:-20%;
      right:-10%;
      width:380px;
      height:300px;
      background: radial-gradient(circle at 30% 20%, rgba(6,182,212,0.06), transparent 15%),
                  radial-gradient(circle at 70% 80%, rgba(124,58,237,0.04), transparent 15%);
      filter: blur(30px);
      z-index: -2;
    }

    .card h2{margin:0 0 6px;font-size:20px; color: #bff8ff; letter-spacing:1px}
    .small{color:var(--muted);font-size:13px;margin-bottom:12px}

    form{margin-top:12px; position:relative; z-index:3}
    input[type=text]{width:100%;padding:14px 16px;border-radius:12px;border:1px solid rgba(0,255,230,0.06);background: rgba(0,0,0,0.24); color:inherit;font-size:15px; outline:none; box-shadow: inset 0 1px 0 rgba(255,255,255,0.02)}
    input[type=text]::placeholder{color:rgba(230,238,248,0.45)}

    .actions{display:flex;gap:10px;align-items:center;margin-top:14px}
    .btn{padding:11px 14px;border-radius:12px;border:0;cursor:pointer;font-weight:700}
    .btn-primary{
      background: linear-gradient(90deg,var(--accent2),var(--accent1));
      color:#001119;
      box-shadow: 0 8px 30px rgba(6,182,212,0.12), 0 2px 0 rgba(124,58,237,0.08);
      border: 1px solid rgba(255,255,255,0.04);
    }
    .btn-ghost{
      background: transparent;
      border: 1px solid rgba(255,255,255,0.06);
      color: var(--muted);
    }

    .meta{margin-top:14px;color:var(--muted);font-size:13px}
    .flash{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;margin-top:10px;color:#ffd9d9}

    /* new: small block under card for desktop */
    .under-card-info{
      margin-top:16px;
      color:var(--muted);
      font-size:13px;
      line-height:1.4;
    }
    .under-card-info .brand{font-weight:800; color:#e6eef8; font-size:14px; margin-bottom:4px}
    .under-card-info .sub{font-size:12px; color:var(--muted); margin-bottom:8px}
    .under-art-grid{display:flex; gap:8px; margin-top:10px}
    .under-art-item{flex:1; padding:8px 10px; border-radius:8px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008)); text-align:center; font-weight:700; color:var(--muted); font-size:12px; border:1px solid rgba(255,255,255,0.02)}

    /* small helper */
    footer{position:fixed;left:20px;bottom:16px;color:var(--muted);font-size:13px;z-index:6}

    /* responsive */
    @media(max-width:940px){
      .wrap{grid-template-columns:1fr; padding:20px}
      .hero{order:2}
      .card{margin-top:30px}
      .under-card-info{display:none} /* mobilde hero gösterilsin, alt bilgi gizlensin */
    }

    /* on desktop: hide the large hero texts and art (move them under card instead) */
    @media(min-width:941px){
      .hero h1, .hero p.lead, .art-card{
        display:none;
      }
      /* show under-card small text */
      .under-card-info{display:block}
    }
  </style>
</head>
<body>
  <!-- Vanta arkaplan element -->
  <div id="vantabg"></div>

  <div class="wrap">
    <div class="hero">
      <div class="logo">
        <div class="dot"></div>
        <div>
          <div style="font-weight:800">NABI SYSTEM</div>
          <div style="font-size:12px;color:var(--muted)">VIP API Panel</div>
        </div>
      </div>
      <h1>Güçlü, Basit ve Hızlı — Key ile Giriş</h1>
      <p class="lead">Tek bir 20 haneli anahtar ile panelimize erişin. Anahtar türüne göre (1 hafta / 1 ay / 3 ay / 1 yıl / free) API erişimi sağlanır. Süresi dolan anahtarlar ücretsiz plana düşer.</p>

      <div class="art-card">
        <div class="art-grid">
          <div class="art-item">API Katalogu</div>
          <div class="art-item">Hızlı Çağrı</div>
          <div class="art-item">VIP Yönetim</div>
        </div>
      </div>
    </div>

    <div>
      <div class="card">
        <div class="neon-glow" aria-hidden="true"></div>
        <h2>Key ile Giriş</h2>
        <div class="small">Lütfen 20 haneli anahtarınızı girin. (Ör: ABCDEFGHIJKLMNOPQRS)</div>

        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="flash">{{ messages[0] }}</div>
          {% endif %}
        {% endwith %}

        <form method="post" action="/login" id="keyForm" onsubmit="return validateKey();">
          <input type="text" name="key" id="keyInput" placeholder="Anahtarınızı buraya yapıştırın" maxlength="64" autofocus />
          <div class="actions">
            <button class="btn btn-primary" type="submit">Giriş Yap</button>
            <a class="btn btn-ghost" href="/">Geri</a>
          </div>
        </form>

        <div class="meta">Anahtarınız yok mu? Yöneticiye ulaş veya /admin panelinden demo anahtar üret.</div>

        <!-- yeni: masaüstünde gösterilecek küçük bilgi bloğu -->
        <div class="under-card-info" aria-hidden="false">
          <div class="brand">NEM</div>
          <div class="sub">VIP API Panel</div>
          <div>Güçlü, Basit ve Hızlı — Key ile Giriş</div>
          <div style="margin-top:6px; font-size:12px; color:var(--muted);">
            Tek bir 20 haneli anahtar ile panelimize erişin. Anahtar türüne göre (1 hafta / 1 ay / 3 ay / 1 yıl / free) API erişimi sağlanır. Süresi dolan anahtarlar ücretsiz plana düşer.
          </div>

          <div class="under-art-grid">
            <div class="under-art-item">API Katalogu</div>
            <div class="under-art-item">Hızlı Çağrı</div>
            <div class="under-art-item">VIP Yönetim</div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <footer>© NABI SYSTEM — Tüm hakları saklıdır</footer>

  <!-- three.js ve Vanta.NET (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@0.5.21/dist/vanta.net.min.js"></script>

  <script>
    // Vanta.NET başlatma - ağ / triangular network
    if (typeof VANTA !== 'undefined' && VANTA.NET) {
      VANTA.NET({
        el: "#vantabg",
        mouseControls: true,
        touchControls: true,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.0,
        scaleMobile: 1.0,
        backgroundColor: 0x071124,
        color: 0x07f0ee,         // çizgi/nokta rengi (cyan)
        points: 13.00,
        maxDistance: 28.00,
        spacing: 20.00,
        showDots: true
      });
    } else {
      // fallback: basit gradient arkaplan (Vanta yüklenemezse)
      document.getElementById('vantabg').style.background = "linear-gradient(120deg,#071124,#000814)";
    }

    // Key doğrulama (senin orijinal fonksiyon korunuyor)
    function validateKey(){
      const v = document.getElementById('keyInput').value.trim();
      if(!v){ alert('Lütfen bir key girin'); return false; }
      if(v.length < 12){ alert('Key çok kısa görünüyor'); return false; }
      // allow various lengths (free keys may be shorter) but warn if not 20
      if(v.length !== 20){
        return confirm('Key 20 haneli değil. Devam etmek istiyor musunuz?');
      }
      return true;
    }

    // küçük bir güzellik: submit tuşuna enter ile basınca hafif animasyon
    document.getElementById('keyForm').addEventListener('submit', function(){
      const btn = document.querySelector('.btn-primary');
      btn.style.transform = 'translateY(1px)';
      setTimeout(()=> btn.style.transform = '', 160);
    });
  </script>
</body>
</html>
